{"ast":null,"code":"var _jsxFileName = \"/Users/sachinkansal/seller-disclosure-portal/src/components/Dashboard.js\",\n  _s = $RefreshSig$();\n// src/components/Dashboard.jsx\nimport React, { useEffect, useState } from 'react';\nimport { Box, Typography, LinearProgress, List, ListItem, ListItemText, Link as MLink } from '@mui/material';\nimport { Link } from 'react-router-dom';\nimport { getDashboardSummary } from '../api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n  var _summary$overall;\n  const [summary, setSummary] = useState({\n    overall: {\n      completed: 0,\n      total: 0\n    },\n    properties: []\n  });\n  const [loading, setLoading] = useState(true);\n  const [err, setErr] = useState('');\n  useEffect(() => {\n    let alive = true;\n    (async () => {\n      try {\n        var _data$overall;\n        setLoading(true);\n        const data = await getDashboardSummary();\n        if (!alive) return;\n        setSummary({\n          overall: (_data$overall = data === null || data === void 0 ? void 0 : data.overall) !== null && _data$overall !== void 0 ? _data$overall : {\n            completed: 0,\n            total: 0\n          },\n          properties: Array.isArray(data === null || data === void 0 ? void 0 : data.properties) ? data.properties : []\n        });\n      } catch (e) {\n        if (alive) setErr(e.message || 'Load failed');\n      } finally {\n        if (alive) setLoading(false);\n      }\n    })();\n    return () => {\n      alive = false;\n    };\n  }, []);\n  const overall = (_summary$overall = summary === null || summary === void 0 ? void 0 : summary.overall) !== null && _summary$overall !== void 0 ? _summary$overall : {\n    completed: 0,\n    total: 0\n  };\n  const pct = overall.total ? overall.completed / overall.total * 100 : 0;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    maxWidth: 800,\n    mx: \"auto\",\n    mt: 4,\n    p: 3,\n    boxShadow: 3,\n    borderRadius: 2,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"Seller Disclosure Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), err && /*#__PURE__*/_jsxDEV(Typography, {\n      color: \"error\",\n      sx: {\n        mb: 2\n      },\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 15\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Typography, {\n      children: \"Loading\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        children: [\"Overall progress: \", overall.completed, \" of \", overall.total, \" steps complete\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n        variant: \"determinate\",\n        value: pct,\n        sx: {\n          height: 10,\n          mb: 2,\n          borderRadius: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        sx: {\n          mt: 2\n        },\n        children: \"Properties\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: [summary.properties.map(p => {\n          var _p$progress$completed, _p$progress, _p$progress$total, _p$progress2;\n          const c = (_p$progress$completed = p === null || p === void 0 ? void 0 : (_p$progress = p.progress) === null || _p$progress === void 0 ? void 0 : _p$progress.completed) !== null && _p$progress$completed !== void 0 ? _p$progress$completed : 0;\n          const t = (_p$progress$total = p === null || p === void 0 ? void 0 : (_p$progress2 = p.progress) === null || _p$progress2 === void 0 ? void 0 : _p$progress2.total) !== null && _p$progress$total !== void 0 ? _p$progress$total : 0;\n          const itemPct = t ? c / t * 100 : 0;\n          return /*#__PURE__*/_jsxDEV(ListItem, {\n            divider: true,\n            secondaryAction: /*#__PURE__*/_jsxDEV(MLink, {\n              component: Link,\n              to: `/properties/${p.id}`,\n              children: \"OPEN\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 36\n            }, this),\n            children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: `${p.title} — ${p.address}`,\n              secondary: `Progress: ${c}/${t}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                width: 200,\n                ml: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(LinearProgress, {\n                variant: \"determinate\",\n                value: itemPct\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this)]\n          }, p.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this);\n        }), summary.properties.length === 0 && /*#__PURE__*/_jsxDEV(ListItem, {\n          children: /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: \"No properties yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"VAqdF2ilYVdMbTqgSXWcCUxD6yE=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","Box","Typography","LinearProgress","List","ListItem","ListItemText","Link","MLink","getDashboardSummary","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","_summary$overall","summary","setSummary","overall","completed","total","properties","loading","setLoading","err","setErr","alive","_data$overall","data","Array","isArray","e","message","pct","maxWidth","mx","mt","p","boxShadow","borderRadius","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","color","sx","mb","value","height","map","_p$progress$completed","_p$progress","_p$progress$total","_p$progress2","c","progress","t","itemPct","divider","secondaryAction","component","to","id","primary","title","address","secondary","width","ml","length","_c","$RefreshReg$"],"sources":["/Users/sachinkansal/seller-disclosure-portal/src/components/Dashboard.js"],"sourcesContent":["// src/components/Dashboard.jsx\nimport React, { useEffect, useState } from 'react';\nimport { Box, Typography, LinearProgress, List, ListItem, ListItemText, Link as MLink } from '@mui/material';\nimport { Link } from 'react-router-dom';\nimport { getDashboardSummary } from '../api';\n\nexport default function Dashboard() {\n  const [summary, setSummary] = useState({ overall: { completed: 0, total: 0 }, properties: [] });\n  const [loading, setLoading] = useState(true);\n  const [err, setErr] = useState('');\n\n  useEffect(() => {\n    let alive = true;\n    (async () => {\n      try {\n        setLoading(true);\n        const data = await getDashboardSummary();\n        if (!alive) return;\n        setSummary({\n          overall: data?.overall ?? { completed: 0, total: 0 },\n          properties: Array.isArray(data?.properties) ? data.properties : [],\n        });\n      } catch (e) {\n        if (alive) setErr(e.message || 'Load failed');\n      } finally {\n        if (alive) setLoading(false);\n      }\n    })();\n    return () => { alive = false; };\n  }, []);\n\n  const overall = summary?.overall ?? { completed: 0, total: 0 };\n  const pct = overall.total ? (overall.completed / overall.total) * 100 : 0;\n\n  return (\n    <Box maxWidth={800} mx=\"auto\" mt={4} p={3} boxShadow={3} borderRadius={2}>\n      <Typography variant=\"h4\" gutterBottom>Seller Disclosure Dashboard</Typography>\n\n      {err && <Typography color=\"error\" sx={{ mb: 2 }}>{err}</Typography>}\n\n      {loading ? (\n        <Typography>Loading…</Typography>\n      ) : (\n        <>\n          <Typography>Overall progress: {overall.completed} of {overall.total} steps complete</Typography>\n          <LinearProgress variant=\"determinate\" value={pct} sx={{ height: 10, mb: 2, borderRadius: 1 }} />\n\n          <Typography variant=\"h6\" sx={{ mt: 2 }}>Properties</Typography>\n          <List>\n            {summary.properties.map(p => {\n              const c = p?.progress?.completed ?? 0;\n              const t = p?.progress?.total ?? 0;\n              const itemPct = t ? (c / t) * 100 : 0;\n              return (\n                <ListItem\n                  key={p.id}\n                  divider\n                  secondaryAction={<MLink component={Link} to={`/properties/${p.id}`}>OPEN</MLink>}\n                >\n                  <ListItemText primary={`${p.title} — ${p.address}`} secondary={`Progress: ${c}/${t}`} />\n                  <Box sx={{ width: 200, ml: 2 }}>\n                    <LinearProgress variant=\"determinate\" value={itemPct} />\n                  </Box>\n                </ListItem>\n              );\n            })}\n            {summary.properties.length === 0 && (\n              <ListItem><ListItemText primary=\"No properties yet.\" /></ListItem>\n            )}\n          </List>\n        </>\n      )}\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}