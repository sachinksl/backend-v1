{"ast":null,"code":"var _jsxFileName = \"/Users/sachinkansal/github/seller-disclosure-portal/src/pages/InviteAccept.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useParams, useNavigate, Link as RouterLink } from 'react-router-dom';\nimport { Box, Button, Typography, Alert } from '@mui/material';\nimport { getInvite, acceptInvite, getMe } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function InviteAcceptPage() {\n  _s();\n  const {\n    token\n  } = useParams();\n  const navigate = useNavigate();\n  const [info, setInfo] = useState(null);\n  const [me, setMe] = useState(null);\n  const [err, setErr] = useState('');\n  useEffect(() => {\n    (async () => {\n      try {\n        setInfo(await getInvite(token));\n      } catch (e) {\n        setErr('Invalid or expired invite.');\n      }\n      try {\n        setMe(await getMe());\n      } catch {}\n    })();\n  }, [token]);\n  if (err) return /*#__PURE__*/_jsxDEV(Box, {\n    p: 3,\n    children: /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 30\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 19\n  }, this);\n  if (!info) return /*#__PURE__*/_jsxDEV(Box, {\n    p: 3,\n    children: \"Loading\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 21\n  }, this);\n  const loggedInEmail = (me === null || me === void 0 ? void 0 : me.email) || '(not logged in)';\n  const mustLogin = !me;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    maxWidth: 600,\n    mx: \"auto\",\n    mt: 6,\n    p: 3,\n    boxShadow: 3,\n    borderRadius: 2,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      children: \"Property Invite\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      gutterBottom: true,\n      children: [\"You were invited as \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: info.role\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 29\n      }, this), \" for this property. Invite email: \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: info.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 81\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      gutterBottom: true,\n      children: [\"Current session: \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: loggedInEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), mustLogin && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"info\",\n      sx: {\n        my: 2\n      },\n      children: [\"Please \", /*#__PURE__*/_jsxDEV(RouterLink, {\n        to: \"/login\",\n        children: \"log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 18\n      }, this), \" with \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: info.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 67\n      }, this), \" and reload this page.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      disabled: mustLogin,\n      onClick: async () => {\n        try {\n          const r = await acceptInvite(token);\n          navigate(`/properties/${r.propertyId}`);\n        } catch (e) {\n          alert(String(e.message || e));\n        }\n      },\n      children: \"Accept Invite\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(InviteAcceptPage, \"WSICtVmGUl2lgh4FTpNyGlaP6hU=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = InviteAcceptPage;\nvar _c;\n$RefreshReg$(_c, \"InviteAcceptPage\");","map":{"version":3,"names":["useEffect","useState","useParams","useNavigate","Link","RouterLink","Box","Button","Typography","Alert","getInvite","acceptInvite","getMe","jsxDEV","_jsxDEV","InviteAcceptPage","_s","token","navigate","info","setInfo","me","setMe","err","setErr","e","p","children","severity","fileName","_jsxFileName","lineNumber","columnNumber","loggedInEmail","email","mustLogin","maxWidth","mx","mt","boxShadow","borderRadius","variant","gutterBottom","role","sx","my","to","disabled","onClick","r","propertyId","alert","String","message","_c","$RefreshReg$"],"sources":["/Users/sachinkansal/github/seller-disclosure-portal/src/pages/InviteAccept.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useParams, useNavigate, Link as RouterLink } from 'react-router-dom';\nimport { Box, Button, Typography, Alert } from '@mui/material';\nimport { getInvite, acceptInvite, getMe } from '../api';\n\nexport default function InviteAcceptPage() {\n  const { token } = useParams();\n  const navigate = useNavigate();\n  const [info, setInfo] = useState(null);\n  const [me, setMe] = useState(null);\n  const [err, setErr] = useState('');\n\n  useEffect(() => {\n    (async () => {\n      try {\n        setInfo(await getInvite(token));\n      } catch (e) { setErr('Invalid or expired invite.'); }\n      try {\n        setMe(await getMe());\n      } catch {}\n    })();\n  }, [token]);\n\n  if (err) return <Box p={3}><Alert severity=\"error\">{err}</Alert></Box>;\n  if (!info) return <Box p={3}>Loadingâ€¦</Box>;\n\n  const loggedInEmail = me?.email || '(not logged in)';\n  const mustLogin = !me;\n\n  return (\n    <Box maxWidth={600} mx=\"auto\" mt={6} p={3} boxShadow={3} borderRadius={2}>\n      <Typography variant=\"h5\" gutterBottom>Property Invite</Typography>\n      <Typography gutterBottom>\n        You were invited as <b>{info.role}</b> for this property. Invite email: <b>{info.email}</b>\n      </Typography>\n      <Typography gutterBottom>\n        Current session: <b>{loggedInEmail}</b>\n      </Typography>\n\n      {mustLogin && (\n        <Alert severity=\"info\" sx={{ my: 2 }}>\n          Please <RouterLink to=\"/login\">log in</RouterLink> with <b>{info.email}</b> and reload this page.\n        </Alert>\n      )}\n\n      <Button\n        variant=\"contained\"\n        disabled={mustLogin}\n        onClick={async () => {\n          try {\n            const r = await acceptInvite(token);\n            navigate(`/properties/${r.propertyId}`);\n          } catch (e) {\n            alert(String(e.message || e));\n          }\n        }}\n      >\n        Accept Invite\n      </Button>\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}