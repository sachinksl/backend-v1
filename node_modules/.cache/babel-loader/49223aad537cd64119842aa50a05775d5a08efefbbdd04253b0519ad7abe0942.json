{"ast":null,"code":"var _jsxFileName = \"/Users/sachinkansal/github/seller-disclosure-portal/src/components/PropertyDetail.jsx\",\n  _s = $RefreshSig$();\n// src/components/PropertyDetail.jsx\nimport { useEffect, useState, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Box, Typography, LinearProgress, List, ListItem, ListItemText, Button, Chip, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Alert } from '@mui/material';\nimport { getProperty, listDocuments, buildForm2, getLatestForm2, getMe, createInvite } from '../api';\nimport DocumentPanel from './DocumentPanel';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PropertyDetail() {\n  _s();\n  var _prop$checklist, _progress$completed, _progress$total;\n  const {\n    id\n  } = useParams();\n  const API_ORIGIN = process.env.REACT_APP_API_ORIGIN || 'http://localhost:8000';\n\n  // ---- ALL HOOKS (top-level, unconditional) ----\n  const [prop, setProp] = useState(null);\n  const [docs, setDocs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedKind, setSelectedKind] = useState(null);\n  const docsRef = useRef(null);\n\n  // invite state (Agent/Admin only UI, but hooks must live at top)\n  const [me, setMe] = useState(null);\n  const [inviteOpen, setInviteOpen] = useState(false);\n  const [inviteEmail, setInviteEmail] = useState('');\n  const [inviteMsg, setInviteMsg] = useState('');\n  const [inviteBusy, setInviteBusy] = useState(false);\n\n  // ---- effects ----\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const [p, d] = await Promise.all([getProperty(id), listDocuments(id)]);\n        setProp(p);\n        setDocs(d);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [id]);\n  useEffect(() => {\n    (async () => {\n      try {\n        setMe(await getMe());\n      } catch {/* ignore if not ready */}\n    })();\n  }, []);\n\n  // ---- derived ----\n  const roles = (me === null || me === void 0 ? void 0 : me.roles) || [];\n  const canInvite = roles.includes('Agent') || roles.includes('Admin');\n\n  // early returns are OK here because hooks were already called\n  if (loading) return /*#__PURE__*/_jsxDEV(Box, {\n    p: 3,\n    children: \"Loading\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 23\n  }, this);\n  if (!prop) return /*#__PURE__*/_jsxDEV(Box, {\n    p: 3,\n    children: \"Not found\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 21\n  }, this);\n  const {\n    title,\n    address,\n    type,\n    progress\n  } = prop;\n  const checklist = (_prop$checklist = prop.checklist) !== null && _prop$checklist !== void 0 ? _prop$checklist : [];\n  const completed = (_progress$completed = progress === null || progress === void 0 ? void 0 : progress.completed) !== null && _progress$completed !== void 0 ? _progress$completed : 0;\n  const total = (_progress$total = progress === null || progress === void 0 ? void 0 : progress.total) !== null && _progress$total !== void 0 ? _progress$total : 0;\n  const pct = total ? completed / total * 100 : 0;\n  const jumpToDocs = kind => {\n    setSelectedKind(kind);\n    setTimeout(() => {\n      var _docsRef$current;\n      return (_docsRef$current = docsRef.current) === null || _docsRef$current === void 0 ? void 0 : _docsRef$current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start'\n      });\n    }, 0);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    maxWidth: 800,\n    mx: \"auto\",\n    mt: 4,\n    p: 3,\n    boxShadow: 3,\n    borderRadius: 2,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      gutterBottom: true,\n      children: [address, \" \\u2022 Type: \", type]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: [\"Progress: \", completed, \" / \", total]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n      variant: \"determinate\",\n      value: pct,\n      sx: {\n        height: 10,\n        mb: 2,\n        borderRadius: 1\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 2,\n      display: \"flex\",\n      gap: 1,\n      flexWrap: \"wrap\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        disabled: total === 0 || completed < total,\n        onClick: async () => {\n          const win = window.open('', '_blank');\n          try {\n            const created = await buildForm2(id);\n            win.location = `${API_ORIGIN}/api/form2/${created.id}/download`;\n          } catch (e) {\n            win === null || win === void 0 ? void 0 : win.close();\n            alert(`Build failed: ${e}`);\n          }\n        },\n        children: \"Generate Form 2 (PDF)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: async () => {\n          const win = window.open('', '_blank');\n          try {\n            const latest = await getLatestForm2(id);\n            win.location = `${API_ORIGIN}/api/form2/${latest.id}/download`;\n          } catch {\n            win === null || win === void 0 ? void 0 : win.close();\n            alert('No Form 2 generated yet');\n          }\n        },\n        children: \"View Latest\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), canInvite && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: () => {\n          setInviteOpen(true);\n          setInviteMsg('');\n        },\n        children: \"Invite Seller\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      sx: {\n        mt: 2\n      },\n      children: checklist.map(item => {\n        var _item$id;\n        return /*#__PURE__*/_jsxDEV(ListItem, {\n          secondaryAction: !item.complete && /*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            onClick: () => jumpToDocs(item.id),\n            children: \"Upload\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: item.label,\n            secondary: item.required ? 'Required' : 'Optional',\n            primaryTypographyProps: {\n              color: item.complete ? 'success.main' : 'text.primary'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), item.complete ? /*#__PURE__*/_jsxDEV(Chip, {\n            label: \"Done\",\n            color: \"success\",\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 30\n          }, this) : null]\n        }, (_item$id = item.id) !== null && _item$id !== void 0 ? _item$id : item.label, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      sx: {\n        mt: 3\n      },\n      children: \"Documents\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      children: [docs.map(d => /*#__PURE__*/_jsxDEV(ListItem, {\n        divider: true,\n        secondaryAction: /*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          onClick: () => window.open(`${API_ORIGIN}/api/documents/${d.id}/download`, '_blank'),\n          children: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 15\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: d.filename,\n          secondary: `kind: ${d.kind} • sha256: ${d.sha256.slice(0, 12)}… • ${new Date(d.createdAt).toLocaleString()}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)\n      }, d.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this)), docs.length === 0 && /*#__PURE__*/_jsxDEV(ListItem, {\n        children: /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: \"No documents yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      ref: docsRef,\n      mt: 3,\n      children: /*#__PURE__*/_jsxDEV(DocumentPanel, {\n        propertyId: id,\n        onChanged: () => {\n          // refresh property/docs after upload/delete\n          (async () => {\n            setLoading(true);\n            try {\n              const [p, d] = await Promise.all([getProperty(id), listDocuments(id)]);\n              setProp(p);\n              setDocs(d);\n            } finally {\n              setLoading(false);\n            }\n          })();\n        },\n        initialKind: selectedKind\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: inviteOpen,\n      onClose: () => setInviteOpen(false),\n      fullWidth: true,\n      maxWidth: \"sm\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Invite Seller to this Property\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [inviteMsg && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"info\",\n          sx: {\n            mb: 2\n          },\n          children: inviteMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          autoFocus: true,\n          label: \"Seller Email\",\n          type: \"email\",\n          value: inviteEmail,\n          onChange: e => setInviteEmail(e.target.value),\n          margin: \"dense\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setInviteOpen(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          disabled: inviteBusy || !inviteEmail.trim(),\n          onClick: async () => {\n            setInviteBusy(true);\n            try {\n              const resp = await createInvite(id, {\n                email: inviteEmail,\n                role: 'Seller'\n              });\n              setInviteMsg(`Invite created. Dev link (also in server logs): ${resp.link}`);\n              setInviteEmail('');\n            } catch (e) {\n              alert(String(e.message || e));\n            } finally {\n              setInviteBusy(false);\n            }\n          },\n          children: inviteBusy ? 'Sending…' : 'Send Invite'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s(PropertyDetail, \"JcvjPD/xhxfSNEQ0svjVr8Mi6tk=\", false, function () {\n  return [useParams];\n});\n_c = PropertyDetail;\nvar _c;\n$RefreshReg$(_c, \"PropertyDetail\");","map":{"version":3,"names":["useEffect","useState","useRef","useParams","Box","Typography","LinearProgress","List","ListItem","ListItemText","Button","Chip","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Alert","getProperty","listDocuments","buildForm2","getLatestForm2","getMe","createInvite","DocumentPanel","jsxDEV","_jsxDEV","PropertyDetail","_s","_prop$checklist","_progress$completed","_progress$total","id","API_ORIGIN","process","env","REACT_APP_API_ORIGIN","prop","setProp","docs","setDocs","loading","setLoading","selectedKind","setSelectedKind","docsRef","me","setMe","inviteOpen","setInviteOpen","inviteEmail","setInviteEmail","inviteMsg","setInviteMsg","inviteBusy","setInviteBusy","p","d","Promise","all","roles","canInvite","includes","children","fileName","_jsxFileName","lineNumber","columnNumber","title","address","type","progress","checklist","completed","total","pct","jumpToDocs","kind","setTimeout","_docsRef$current","current","scrollIntoView","behavior","block","maxWidth","mx","mt","boxShadow","borderRadius","variant","gutterBottom","value","sx","height","mb","display","gap","flexWrap","disabled","onClick","win","window","open","created","location","e","close","alert","latest","map","item","_item$id","secondaryAction","complete","size","primary","label","secondary","required","primaryTypographyProps","color","divider","filename","sha256","slice","Date","createdAt","toLocaleString","length","ref","propertyId","onChanged","initialKind","onClose","fullWidth","severity","autoFocus","onChange","target","margin","trim","resp","email","role","link","String","message","_c","$RefreshReg$"],"sources":["/Users/sachinkansal/github/seller-disclosure-portal/src/components/PropertyDetail.jsx"],"sourcesContent":["// src/components/PropertyDetail.jsx\nimport { useEffect, useState, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {\n  Box, Typography, LinearProgress, List, ListItem, ListItemText, Button, Chip,\n  Dialog, DialogTitle, DialogContent, DialogActions, TextField, Alert\n} from '@mui/material';\nimport {\n  getProperty, listDocuments, buildForm2, getLatestForm2,\n  getMe, createInvite\n} from '../api';\nimport DocumentPanel from './DocumentPanel';\n\nexport default function PropertyDetail() {\n  const { id } = useParams();\n  const API_ORIGIN = process.env.REACT_APP_API_ORIGIN || 'http://localhost:8000';\n\n  // ---- ALL HOOKS (top-level, unconditional) ----\n  const [prop, setProp] = useState(null);\n  const [docs, setDocs] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const [selectedKind, setSelectedKind] = useState(null);\n  const docsRef = useRef(null);\n\n  // invite state (Agent/Admin only UI, but hooks must live at top)\n  const [me, setMe] = useState(null);\n  const [inviteOpen, setInviteOpen] = useState(false);\n  const [inviteEmail, setInviteEmail] = useState('');\n  const [inviteMsg, setInviteMsg] = useState('');\n  const [inviteBusy, setInviteBusy] = useState(false);\n\n  // ---- effects ----\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const [p, d] = await Promise.all([getProperty(id), listDocuments(id)]);\n        setProp(p);\n        setDocs(d);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [id]);\n\n  useEffect(() => {\n    (async () => {\n      try { setMe(await getMe()); } catch { /* ignore if not ready */ }\n    })();\n  }, []);\n\n  // ---- derived ----\n  const roles = me?.roles || [];\n  const canInvite = roles.includes('Agent') || roles.includes('Admin');\n\n  // early returns are OK here because hooks were already called\n  if (loading) return <Box p={3}>Loading…</Box>;\n  if (!prop) return <Box p={3}>Not found</Box>;\n\n  const { title, address, type, progress } = prop;\n  const checklist = prop.checklist ?? [];\n  const completed = progress?.completed ?? 0;\n  const total = progress?.total ?? 0;\n  const pct = total ? (completed / total) * 100 : 0;\n\n  const jumpToDocs = (kind) => {\n    setSelectedKind(kind);\n    setTimeout(() => docsRef.current?.scrollIntoView({ behavior: 'smooth', block: 'start' }), 0);\n  };\n\n  return (\n    <Box maxWidth={800} mx=\"auto\" mt={4} p={3} boxShadow={3} borderRadius={2}>\n      <Typography variant=\"h5\" gutterBottom>{title}</Typography>\n      <Typography variant=\"body1\" gutterBottom>{address} • Type: {type}</Typography>\n\n      <Typography>Progress: {completed} / {total}</Typography>\n      <LinearProgress variant=\"determinate\" value={pct} sx={{ height: 10, mb: 2, borderRadius: 1 }} />\n\n      {/* Form 2 actions */}\n      <Box mt={2} display=\"flex\" gap={1} flexWrap=\"wrap\">\n        <Button\n          variant=\"contained\"\n          disabled={total === 0 || completed < total}\n          onClick={async () => {\n            const win = window.open('', '_blank');\n            try {\n              const created = await buildForm2(id);\n              win.location = `${API_ORIGIN}/api/form2/${created.id}/download`;\n            } catch (e) {\n              win?.close();\n              alert(`Build failed: ${e}`);\n            }\n          }}\n        >\n          Generate Form 2 (PDF)\n        </Button>\n\n        <Button\n          variant=\"outlined\"\n          onClick={async () => {\n            const win = window.open('', '_blank');\n            try {\n              const latest = await getLatestForm2(id);\n              win.location = `${API_ORIGIN}/api/form2/${latest.id}/download`;\n            } catch {\n              win?.close();\n              alert('No Form 2 generated yet');\n            }\n          }}\n        >\n          View Latest\n        </Button>\n\n        {canInvite && (\n          <Button variant=\"outlined\" onClick={() => { setInviteOpen(true); setInviteMsg(''); }}>\n            Invite Seller\n          </Button>\n        )}\n      </Box>\n\n      {/* Checklist */}\n      <List sx={{ mt: 2 }}>\n        {checklist.map(item => (\n          <ListItem\n            key={item.id ?? item.label}\n            secondaryAction={!item.complete && (\n              <Button size=\"small\" onClick={() => jumpToDocs(item.id)}>\n                Upload…\n              </Button>\n            )}\n          >\n            <ListItemText\n              primary={item.label}\n              secondary={item.required ? 'Required' : 'Optional'}\n              primaryTypographyProps={{ color: item.complete ? 'success.main' : 'text.primary' }}\n            />\n            {item.complete ? <Chip label=\"Done\" color=\"success\" size=\"small\" /> : null}\n          </ListItem>\n        ))}\n      </List>\n\n      {/* Documents */}\n      <Typography variant=\"h6\" sx={{ mt: 3 }}>Documents</Typography>\n      <List>\n        {docs.map(d => (\n          <ListItem\n            key={d.id}\n            divider\n            secondaryAction={\n              <Button\n                size=\"small\"\n                onClick={() => window.open(`${API_ORIGIN}/api/documents/${d.id}/download`, '_blank')}\n              >\n                Download\n              </Button>\n            }\n          >\n            <ListItemText\n              primary={d.filename}\n              secondary={`kind: ${d.kind} • sha256: ${d.sha256.slice(0, 12)}… • ${new Date(d.createdAt).toLocaleString()}`}\n            />\n          </ListItem>\n        ))}\n        {docs.length === 0 && <ListItem><ListItemText primary=\"No documents yet.\" /></ListItem>}\n      </List>\n\n      {/* Uploads panel */}\n      <Box ref={docsRef} mt={3}>\n        <DocumentPanel propertyId={id} onChanged={() => {\n          // refresh property/docs after upload/delete\n          (async () => {\n            setLoading(true);\n            try {\n              const [p, d] = await Promise.all([getProperty(id), listDocuments(id)]);\n              setProp(p);\n              setDocs(d);\n            } finally { setLoading(false); }\n          })();\n        }} initialKind={selectedKind} />\n      </Box>\n\n      {/* Invite dialog (hooks are above; this is just conditional rendering) */}\n      <Dialog open={inviteOpen} onClose={() => setInviteOpen(false)} fullWidth maxWidth=\"sm\">\n        <DialogTitle>Invite Seller to this Property</DialogTitle>\n        <DialogContent>\n          {inviteMsg && <Alert severity=\"info\" sx={{ mb: 2 }}>{inviteMsg}</Alert>}\n          <TextField\n            fullWidth\n            autoFocus\n            label=\"Seller Email\"\n            type=\"email\"\n            value={inviteEmail}\n            onChange={e => setInviteEmail(e.target.value)}\n            margin=\"dense\"\n            required\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setInviteOpen(false)}>Cancel</Button>\n          <Button\n            variant=\"contained\"\n            disabled={inviteBusy || !inviteEmail.trim()}\n            onClick={async () => {\n              setInviteBusy(true);\n              try {\n                const resp = await createInvite(id, { email: inviteEmail, role: 'Seller' });\n                setInviteMsg(`Invite created. Dev link (also in server logs): ${resp.link}`);\n                setInviteEmail('');\n              } catch (e) {\n                alert(String(e.message || e));\n              } finally {\n                setInviteBusy(false);\n              }\n            }}\n          >\n            {inviteBusy ? 'Sending…' : 'Send Invite'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}